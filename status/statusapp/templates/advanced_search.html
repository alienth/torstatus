{% extends "base.html" %}

{% block auxCSS %}
<link rel="stylesheet" type="text/css" href="/static/css/advancedsearch.css"></link>
<link rel="stylesheet" type="text/css" href="/static/css/columnpreferences.css"></link>
{% endblock %}


{% block mainTitle %} TorStatus {% endblock %}

{% block headerTitle %} TorStatus {% endblock %}

{% block mainPage %}
{% load index_filters %}









    <table class="advSearchTable">
        <tr>
        <td>
        <form name="searchForm" action="" method="get">
        <table class="">
            <tr>
                <td id='advSearchToolText'>
                Filter By
                </td>
                <td>
                <select id="advSearchButton" name="criteria">
                {% for option in searchOptionsFieldsOrder %}
                    <option value="{{searchOptionsFields|key:option}}" 
                    {% if queryOptions and queryOptions|key:'criteria' == "{{searchOptionsFields|key: option}}" %}
                                SELECTED {% endif %}>{{option}}</option>
                {% endfor %}
                </select>
                </td>
                <td>
                <select id="advSearchButton" name="boolLogic">
                {% for option in searchOptionsBooleansOrder %}
                    <option value="{{searchOptionsBooleans|key:option}}" 
                    {% if queryOptions and queryOptions|key:'boolLogic' == "{{searchOptionsBooleans|key:option}}" %} 
                                SELECTED {% endif %}>{{option}}</option>
                {% endfor %}
                </select>
                </td>
                <td>
                <input id="advSearchBox" type="text" name="searchValue" value="{{searchValue}}"/>
                </td>
            </tr>
            <tr>
                <td id='advSearchToolText'>
                Sort Order
                </td>
                <td>
                <select id="advSearchButton" name="sortListing">
                {% for option in sortOptionsOrder %}
                    <option value="{{sortOptions|key:option}}" 
                    {% if queryOptions and queryOptions|key:'sortListings' == "{{sortOptions|key:option}}" %} 
                                                            SELECTED {% endif %}>{{option}}</option>
                {% endfor %}
                </select>
                </td>
                <td>
                <select id="advSearchButton" name="sortOrder">
                <option value="ascending" {% if queryOptions and queryOptions|key:'sortOrder' == "ascending" %} 
                                                            SELECTED {% endif %}>Ascending</option>
                <option value="descending" {% if queryOptions and queryOptions|key:'sortOrder' == "descending" %} 
                                                            SELECTED {% endif %}>Descending</option>
                </select>
                </td>
            </tr>
        </table>

        <tr>
            <td id="advSearchToolText"> 
            Require Flags 
            </td>
        </tr>
        <tr>
            <td>
                <table class="advSearchTable">
                    <tr>
                        <td>
            <table class="advSearchFlagTable">
            {% for option in filterOptionsOrder %}
                <tr>
                {% if forloop.counter0 == 6 %}
                    </tr>
                </table>
                    <td>
                    <table class="advSearchFlagTable">
                {% endif %}
                <td id="advSearchToolText"> {{option}} </td>
                <td>
                <input type="radio" name="{{filterOptions|key:option}}" value="" {% if not queryOptions %} CHECKED 
                                            {% else %} {% if queryOptions and queryOptions|key:'isauthority' == "" %}
                                            CHECKED {% endif %}{% endif %} />Off </td><td>
                <input type="radio" name="{{filterOptions|key:option}}" value="yes" {% if queryOptions and queryOptions|key:'isauthority' == "yes" %}
                                            CHECKED {% endif %} />Yes</td><td>
                <input type="radio" name="{{filterOptions|key:option}}" value="no" {% if queryOptions and queryOptions|key:'isauthority' == "no" %}
                                            CHECKED {% endif %} />No </td>
             {% endfor %}

                </tr>
            </table>
        </tr>
    </td>
        </table>
    </td>
    </tr>
</table>

<table>
<a href="/display-options">Display Options</a>
<br />
<input type='submit' value='Submit' id="searchButton"/>
</form>
<table>

{% endblock %}
