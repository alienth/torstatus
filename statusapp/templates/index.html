<html>

<head>
<link rel="stylesheet" type="text/css" href="static/css/style.css" />
</head>

<body>
<table cellspacing="1" cellpadding="2" class="body">
<tr>
	<td class="headerTitle">
		<br />
		<a class="link" href=""> TorStatus</a>
		<br />
		<br />
	</td>
</tr>
<tr>
	<td class="headerLinks">
		<br />
		<a class="link" href="">Tor Exit Node Query</a> | 
		<a class="link" href="">TorStatus Server Details</a> |
		<a class="link" href="">Opinion Source</a> |
		<a class="link" href="">Advanced Query Options</a> |
		<a class="link" href="">Advanced Display Options</a> | 
		<a class="link" href="">Network Statistic Graphs</a>
		<br />
		<br />
	</td>
</tr>
<tr>
	<td class="headerLinks">
		<br />
		<a class="link" href="">CSV List of Current Result Set</a> |
		<a class="link" href="">CSV List of All Current Tor Server IP Addresses</a> |
		<a class="link" href="">CSV List of All Current Tor Server Exit Node IP Addresses</a> 
		<br />
		<br />
	</td>
</tr>
<tr>
	<td>
		<br />
	</td>
</tr>
</table>

<table cellspacing="2" cellpadding="2" class="displayStatus">
<tr>
	<td class="headerLinks">
		<br />
		<a class="link" href="https://check.torproject.org/"> Check if you are using Tor (via TorCheck)</a>
		<br />
		Your IP Address is: {{clientAddress}}
		<br />
		<br />
	</td>
</tr>
</table>
<br />
<table cellspacing="1" cellpadding="2" class="legend">
<tr> 
	<td class="boxTitle"> Legend </td>
</tr>
<tr>
	<td class="routerOK">Router is ok</td>
</tr>
<tr>
	<td class="routerHibernating">Router is hibernating</td>
</tr>
<tr>
	<td class="routerDown">Router is currently down</td>
</tr>
<tr>
	<td class="routerBadExit">Router is a bad exit node</td>
</tr>
</table>
<br />
<table cellspacing="1" cellpadding="2" class="appServerDetails">
<tr>
	<td class="boxTitle" colspan="2">Application Server Details</td>
</tr>
<tr class="appServerDetails">
	<td>Cache Last Updated (Local Server Time):</td>
	<td>16:32:23 (GMT)</td>
</tr>
<tr class="appServerDetails">
	<td>Last Update Cycle Processing Time (Seconds):</td>
	<td>534</td>
</tr>
<tr class="appServerDetails">
	<td>Current Cache Expire Time (Seconds):</td>
	<td>234</td>
</tr>
<tr class="appServerDetails">
	<td>Number of Routers In Cache:</td>
	<td>765</td>
</tr>
<tr class="appServerDetails">
	<td>Number of Descriptors In Cache:</td>
	<td>123</td>
</tr>
<tr class="appServerDetails">
	<td>Approximate Page Generation Time (Seconds):</td>
	<td>534.34</td>
</tr>
</table>
	
	
<br />
<br />
		
{% if statuses_descriptors %}
<table cellspacing="0" border="0" width="100%">
	<tr class="relayheader">
		<th class="relayHeader">Router Name</th>
		<th class="relayHeader">Bandwidth</th>
        <th class="relayHeader">Uptime</th>
        <th class="relayHeader">IP</th>
		<th class="relayHeader"> </th>
        <th class="relayHeader">ORPort</th>
        <th class="relayHeader">DirPort</th>
        <th class="relayHeader">BadExit</th>
	</tr>
	{% for relay_stat, relay_desc in statuses_descriptors %}
		<tr class="relay">
            <td><img src="static/img/flags/us.gif"> 
                {% ifequal relay_stat.isnamed 1 %}
                    <b>{{relay_stat.nickname}}</b> 
                {% else %}
                    {{relay_stat.nickname}}
                {% endifequal %}
            </td>
            <td> {% widthratio relay_desc.bandwidthobserved|floatformat 1000 1 %} KB/s</td>
            <td> {% widthratio relay_desc.uptime|floatformat 86000 1 %} d</td>
            <td> {{relay_stat.address}}
            <td align="right">

                {% ifequal relay_stat.isfast 1 %}
                    <img src="static/img/status/Fast.png" alt="Fast Server" title="Fast Server">
                {% endifequal %}

                {% ifequal relay_stat.isexit 1 %}
                    <img src="static/img/status/Exit.png" alt="Exit Server" title="Exit Server">
                {% endifequal %}

                {% ifequal relay_stat.isguard 1 %}
                    <img src="static/img/status/Guard.png" alt="Guard Server" title="Guard Server">
                {% endifequal %}

                {% ifequal relay_stat.isstable 1 %}
                    <img src="static/img/status/Stable.png" alt="Stable Server" title="Stable Server">
                {% endifequal %}

                {% ifequal relay_stat.isauthority 1 %}
                    <img src="static/img/status/Authority.png" alt="Authority Server" title="Authority Server">
                {% endifequal %}

                {% if "Linux" in relay_desc.platform %}
                <img src="static/img/os-icons/Linux.png" alt="{{ relay_desc.platform }}" title="{{ relay_desc.platform }}">
                {% else %}{% if "XP" in relay_desc.platform %}
                    <img src="static/img/os-icons/WindowsXP.png" alt="{{ relay_desc.platform }}" title="{{ relay_desc.platform }}">
                    {% else %}{% if "Windows" in relay_desc.platform and "erver" in relay_desc.platform %}
                    <img src="static/img/os-icons/WindowsServer.png" alt="{{ relay_desc.platform }}" title="{{ relay_desc.platform }}">
                {% else %}{% if "Windows" in relay_desc.platform %}
                    <img src="static/img/os-icons/WindowsOther.png" alt="{{ relay_desc.platform }}" title="{{ relay_desc.platform }}">
                {% else %}{% if "Darwin" in relay_desc.platform %}
                    <img src="static/img/os-icons/Darwin.png" alt="{{ relay_desc.platform }}" title="{{ relay_desc.platform }}">
                {% else %}{% if "FreeBSD" in relay_desc.platform %}
                    <img src="static/img/os-icons/FreeBSD.png" alt="{{ relay_desc.platform }}" title="{{ relay_desc.platform }}">
                {% else %}{% if "NetBSD" in relay_desc.platform %}
                    <img src="static/img/os-icons/NetBSD.png" alt="{{ relay_desc.platform }}" title="{{ relay_desc.platform }}">
                {% else %}{% if "OpenBSD" in relay_desc.platform %}
                    <img src="static/img/os-icons/OpenBSD.png" alt="{{ relay_desc.platform }}" title="{{ relay_desc.platform }}">
                {% else %}{% if "SunOS" in relay_desc.platform %}
                    <img src="static/img/os-icons/SunOS.png" alt="{{ relay_desc.platform }}" title="{{ relay_desc.platform }}">
                {% else %}{% if "available" in relay_desc.platform %}
                    <img src="static/img/os-icons/NotAvailable.png" alt="{{ relay_desc.platform }}" title="{{ relay_desc.platform }}">
                {% else %}{% if "IRIX" in relay_desc.platform %}
                    <img src="static/img/os-icons/IRIX64.png" alt="{{ relay_desc.platform }}" title="{{ relay_desc.platform }}">
                {% else %}{% if "Cygwin" in relay_desc.platform %}
                    <img src="static/img/os-icons/Cygwin.png" alt="{{ relay_desc.platform }}" title="{{ relay_desc.platform }}">
                {% else %}{% if "Dragon" in relay_desc.platform %}
                    <img src="static/img/os-icons/DragonFly.png" alt="{{ relay_desc.platform }}" title="{{ relay_desc.platform }}">
                {% else %}
                    <img src="static/img/os-icons/NotAvailable.png" alt="{{ relay_desc.platform }}" title="{{ relay_desc.platform }}">
                {% endif %}{% endif %}{% endif %}{% endif %}{% endif %}{% endif %}{% endif %}{% endif %}{% endif %}{% endif %}{% endif %}{% endif %}{% endif %}
            </td>
            <td>{{relay_stat.orport}}</td>
            <td>{% ifequal relay_stat.dirport 0 %}
                    None
                {% else %}
                    {{ relay_stat.dirport }}
                {% endifequal %}
            </td>
            <td>{% ifequal relay_stat.isbadexit 1 %}
                    <img src="static/img/bg_yes.png" alt="Not a Bad Exit" title="Not a Bad Exit">
                {% else %}
                    <img src="static/img/bg_no.png" alt="Bad Exit" title="Bad Exit">
                {% endifequal %}
            </td>
		</tr>
	{% endfor %}
	</table>
{% else %}
	<p> NO LIST !
{% endif %}
</body>

</html>

